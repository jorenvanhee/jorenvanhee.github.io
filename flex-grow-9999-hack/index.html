<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <title>Flex-grow 9999 Hack</title>
    

    <link href="https://fonts.googleapis.com/css?family=Assistant:400,700|Lora" rel="stylesheet">

    
        <link rel="stylesheet" href="/dist/app.css?v=2021-03-14T17:05:11+00:00">
    

    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body class="">

<div class="border-b bg-white pt-3 pb-4 shadow-sm">
    <div class="container md:max-w-full md:px-5">
        <a href="/" class="anchor">← Joren.co</a>
    </div>
</div>

<div class="container markdown">

    <h1>Flex-grow 9999 Hack</h1>

    <p>The Germans broke my CSS a while ago. Well, not literally, but their long words did. A few days before the issue occurred, I saw a talk by Zoe Mickley Gillenwater at Frontend United entitled “Using Flexbox Today”. That talk inspired me to solve the problem with flexbox.</p>

<p>Before I explain the flex-grow 9999 hack in detail, let me briefly describe what it does. The flex-grow 9999 hack makes a flex item behave like it has two flex grow values. It prevents a flex item in a row from growing, but allows it to grow if it’s wrapped into its own line. All without the use of media queries.</p>

<p>If that didn’t make sense, don’t worry. The example should make it clear.</p>

<p>Imagine a flex container (<code class="highlighter-rouge">display: flex</code>) with two flex items in a row (<code class="highlighter-rouge">flex-direction: row</code>). Item A on the left, and item B on the right. Item A can not grow, so I give it a <code class="highlighter-rouge">flex-grow</code> value of <code class="highlighter-rouge">0</code> (the default value). Item B has to take up all the remaining space in the container. This can be done with <code class="highlighter-rouge">flex-grow: 1</code>.</p>

<p>I would like the flex items to be stacked on top of each other when necessary. Item B has to jump onto the second line, if there’s not enough space for it to be at least 20 ems wide. Adding <code class="highlighter-rouge">flex-wrap: wrap</code> to the container and <code class="highlighter-rouge">flex-basis: 20em</code> to item B does the job.</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.container</span> <span class="p">{</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
    <span class="nl">flex-direction</span><span class="p">:</span> <span class="n">row</span><span class="p">;</span>
    <span class="nl">flex-wrap</span><span class="p">:</span> <span class="n">wrap</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.item-a</span> <span class="p">{</span>
    <span class="nl">flex-grow</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.item-b</span> <span class="p">{</span>
    <span class="nl">flex-grow</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
    <span class="nl">flex-basis</span><span class="p">:</span> <span class="m">20em</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>You can see what we have so far on <a href="https://jsfiddle.net/jorenvanhee/rmaeak0q/0/">JSFiddle</a>.</p>

<div class="highlight highlight--standalone py-6">
    <img class="block w-full mx-auto" alt="" src="/assets/collections/posts/flex-grow-9999-hack/sketch1_w_350.jpg" srcset="/assets/collections/posts/flex-grow-9999-hack/sketch1_w_350.jpg 350w, /assets/collections/posts/flex-grow-9999-hack/sketch1_w_700.jpg 700w" sizes="350px" style="max-width: 350px;" />
</div>

<p>Now comes the tricky part. I want item A to stretch to the entire width of the container, only if the items are wrapped into multiple lines. We could use media queries to update the <code class="highlighter-rouge">flex-grow</code> value, but in my case, the breakpoint was hard to define.</p>

<p>Reasons why the breakpoint could be hard to define are:</p>

<ol>
  <li>The width of item A is unknown. For instance, it contains words that are longer in another language.</li>
  <li>We don’t know the width of the components parent element. For instance, if it is used in a sidebar and in some other places.</li>
</ol>

<p>Let’s do this without media queries. We will update the <code class="highlighter-rouge">flex-grow</code> value of item A to <code class="highlighter-rouge">1</code>. The problem now is that item A will also grow if both items are next to each other. To fix this, we can assign a ridiculously large <code class="highlighter-rouge">flex-grow</code> value like <code class="highlighter-rouge">9999</code> to item B.</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.container</span> <span class="p">{</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
    <span class="nl">flex-direction</span><span class="p">:</span> <span class="n">row</span><span class="p">;</span>
    <span class="nl">flex-wrap</span><span class="p">:</span> <span class="n">wrap</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.item-a</span> <span class="p">{</span>
    <span class="nl">flex-grow</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.item-b</span> <span class="p">{</span>
    <span class="nl">flex-grow</span><span class="p">:</span> <span class="m">9999</span><span class="p">;</span>
    <span class="nl">flex-basis</span><span class="p">:</span> <span class="m">20em</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>Check out the final result on <a href="https://jsfiddle.net/jorenvanhee/rmaeak0q/">JSFiddle</a>.</p>

<div class="highlight highlight--standalone py-6">
    <img class="block w-full mx-auto" alt="" src="/assets/collections/posts/flex-grow-9999-hack/sketch2_w_350.jpg" srcset="/assets/collections/posts/flex-grow-9999-hack/sketch2_w_350.jpg 350w, /assets/collections/posts/flex-grow-9999-hack/sketch2_w_700.jpg 700w" sizes="350px" style="max-width: 350px;" />
</div>

<p>So why does this work? Flex grow defines how much of the remaining free space a flex item receives. Let’s say there are 100 pixels of free space left. We can then give item A 1/4 (25px) of the remaining space (<code class="highlighter-rouge">flex-grow: 1</code>), and item B 3/4 (75px) of the remaining space (<code class="highlighter-rouge">flex-grow: 3</code>).</p>

<p>In our case item A gets 1/10000 of the remaining space, which results in 0 pixels (1 / 10000 * 100 = 0.01). Eventually, if there’s enough remaining space, item A will receive some pixels. But you’d need a very large screen for that to happen. You can do the math yourself.</p>

<p>If you want to read a more in depth article on how flex grow works, there’s <a href="https://css-tricks.com/flex-grow-is-weird/">an excellent blog post</a> on css-tricks.com.</p>


    <hr>

    <p>Questions, comments or suggestions?<br><a href="https://github.com/jorenvanhee/jorenvanhee.github.io/issues/new?title=Flex-grow 9999 Hack">Open an issue</a> on GitHub, or contact me via Twitter <a href="https://twitter.com/jorenvanhee">@jorenvanhee</a>.</p>

</div>





    <script>
        window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;
        ga('create','UA-46671545-4','auto');ga('send','pageview')
    </script>
    <script src="https://www.google-analytics.com/analytics.js" async defer></script>




</body>
</html>
